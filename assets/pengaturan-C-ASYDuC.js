function t(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{F as e,S as n,U as a}from"./main-BwwENJvz.js";/* empty css                   */document.addEventListener("DOMContentLoaded",()=>{const t=new e;document.getElementById("locationForm").addEventListener("submit",async t=>{t.preventDefault();const e=document.getElementById("citySelect").value;if(!e)return void alert("Pilih kota terlebih dahulu!");const a=n.get("app_config")||{};a.location={city:e,country:"Indonesia",method:"manual"},a.first_time_setup=!0,n.save("app_config",a),alert("Lokasi berhasil disimpan! Halaman akan di-refresh."),window.location.reload()}),document.getElementById("autoDetectBtn").addEventListener("click",()=>{const t=document.getElementById("gpsStatus");if(t.textContent="Mendeteksi lokasi...",t.className="mt-2 small text-info",!navigator.geolocation)return t.textContent="Browser tidak mendukung geolocation",void(t.className="mt-2 small text-danger");navigator.geolocation.getCurrentPosition(e=>{const a=n.get("app_config")||{};a.location={latitude:e.coords.latitude,longitude:e.coords.longitude,method:"gps"},a.first_time_setup=!0,n.save("app_config",a),t.textContent="Lokasi berhasil terdeteksi!",t.className="mt-2 small text-success",setTimeout(()=>window.location.reload(),1500)},e=>{t.textContent="Gagal mendeteksi lokasi. Gunakan pilihan manual.",t.className="mt-2 small text-danger"})}),document.getElementById("methodForm").addEventListener("submit",t=>{t.preventDefault();const e=parseInt(document.getElementById("methodSelect").value),a=n.get("app_config")||{};a.prayer_method=e,n.save("app_config",a),alert("Metode berhasil disimpan!")}),document.getElementById("exportBtn").addEventListener("click",()=>{const t=n.exportData(),e="puasa-ayyamul-bidh-".concat((new Date).toISOString().split("T")[0],".json");a.downloadJSON(t,e)}),document.getElementById("importFile").addEventListener("change",async t=>{const e=t.target.files[0];if(e)try{const t=await a.parseJSONFile(e);n.importData(t)?(alert("Data berhasil di-import! Halaman akan di-refresh."),window.location.reload()):alert("Gagal import data. File tidak valid.")}catch(o){alert("Error: "+o.message)}}),document.getElementById("resetBtn").addEventListener("click",()=>{new bootstrap.Modal(document.getElementById("confirmModal")).show()}),document.getElementById("confirmResetBtn").addEventListener("click",()=>{n.clear(),t.resetAll(),alert("Semua data berhasil dihapus!"),window.location.href="index.html"}),function(){const t=n.get("app_config");t&&(t.location.city?(document.getElementById("citySelect").value=t.location.city,document.getElementById("currentLocation").textContent="".concat(t.location.city,", ").concat(t.location.country||"Indonesia")):t.location.latitude&&(document.getElementById("currentLocation").textContent="GPS (".concat(t.location.latitude.toFixed(4),", ").concat(t.location.longitude.toFixed(4),")")),t.prayer_method&&(document.getElementById("methodSelect").value=t.prayer_method))}()});export{t as __vite_legacy_guard};
