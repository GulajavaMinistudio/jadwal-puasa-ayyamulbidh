System.register(["./main-legacy-C0zpZv6i.js","./components-legacy-BNSLIDmU.js"],function(t,n){"use strict";var e,a,s;return{setters:[t=>{e=t.H,a=t.F,s=t.U},null],execute:function(){document.addEventListener("DOMContentLoaded",async()=>{const t=new e,n=new a;let r=null;async function i(){await async function(){if(!r)return;const e=r.month,a=r.year,o=s.getHijriMonthName(e);document.getElementById("currentMonthTitle").textContent=`${o} ${a} H`;const c=await t.getAyyamulBidhDates(e,a),l=n.getMonthlyStats(e,a),d=document.getElementById("currentMonthTracker");d.innerHTML=`\n                <ul class="tracker-list">\n                    ${c.map(t=>{const s=n.isFastingMarked(t.hijriDay,e,a),r=new Date(t.gregorianDate)<new Date;return`\n                            <li class="tracker-item ${s?"completed":""}">\n                                <input type="checkbox" \n                                       class="tracker-checkbox" \n                                       data-day="${t.hijriDay}" \n                                       data-month="${e}" \n                                       data-year="${a}"\n                                       ${s?"checked":""}>\n                                <div class="tracker-label">\n                                    <strong>${t.hijriDay} ${o} ${a} H</strong>\n                                    <br>\n                                    <small class="text-muted">\n                                        ${t.gregorianDate.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}\n                                        ${r&&!s?" (Terlewat)":""}\n                                    </small>\n                                </div>\n                                ${s?'<span class="tracker-badge">âœ“ Selesai</span>':""}\n                            </li>\n                        `}).join("")}\n                </ul>\n                \n                <div class="alert ${l.isComplete?"alert-success":"alert-info"} mt-3">\n                    <strong>Progress:</strong> ${l.totalDays}/3 hari (${l.percentage}%)\n                    ${l.isComplete?" ðŸŽ‰ <strong>LENGKAP!</strong>":""}\n                </div>\n            `,d.querySelectorAll(".tracker-checkbox").forEach(t=>{t.addEventListener("change",t=>{const e=parseInt(t.target.dataset.day),a=parseInt(t.target.dataset.month),s=parseInt(t.target.dataset.year);n.toggleFasting(e,a,s),i()})})}(),await async function(){if(!r)return;const t=r.year,e=r.month,a=n.getYearlyStats(t),i=n.getCurrentStreak(e,t);document.getElementById("totalYearly").textContent=`${a.totalDays}/36`,document.getElementById("yearlyProgressBar").style.width=`${a.percentage}%`,document.getElementById("completeMonths").textContent=`${a.completeMonths}/12`,document.getElementById("currentStreak").textContent=i,document.getElementById("monthlyChart").innerHTML=a.monthlyDetails.map(t=>`\n                <div class="chart-bar">\n                    <div class="chart-label">${s.getHijriMonthName(t.month).substring(0,3)}</div>\n                    <div class="chart-bar-bg">\n                        <div class="chart-bar-fill" style="width: ${t.percentage}%">\n                            ${t.totalDays}/3\n                        </div>\n                    </div>\n                </div>\n            `).join("")}(),function(){const t=n.getFastingHistory(),e=document.getElementById("historyAccordion");0!==t.length?e.innerHTML=t.map((t,n)=>`\n                <div class="accordion-item">\n                    <h2 class="accordion-header">\n                        <button class="accordion-button ${0!==n?"collapsed":""}" \n                                type="button" \n                                data-bs-toggle="collapse" \n                                data-bs-target="#history${n}">\n                            <strong>${t.monthName} ${t.year} H</strong>\n                            <span class="ms-auto me-3">\n                                <span class="custom-badge ${"complete"===t.status?"badge-complete":"partial"===t.status?"badge-partial":"badge-none"}">\n                                    ${t.totalDays}/3 - ${"complete"===t.status?"Lengkap":"partial"===t.status?"Sebagian":"Kosong"}\n                                </span>\n                            </span>\n                        </button>\n                    </h2>\n                    <div id="history${n}" class="accordion-collapse collapse ${0===n?"show":""}" data-bs-parent="#historyAccordion">\n                        <div class="accordion-body">\n                            <p><strong>Hari yang sudah puasa:</strong></p>\n                            <ul>\n                                ${t.days.map(n=>`<li>Tanggal ${n} ${t.monthName} ${t.year} H</li>`).join("")}\n                            </ul>\n                            ${0===t.totalDays?'<p class="text-muted">Belum ada puasa di bulan ini</p>':""}\n                        </div>\n                    </div>\n                </div>\n            `).join(""):e.innerHTML='\n                    <div class="empty-state">\n                        <div class="empty-state-icon">\n                            <i class="bi bi-inbox"></i>\n                        </div>\n                        <div class="empty-state-title">Belum Ada Riwayat</div>\n                        <div class="empty-state-message">Mulai tandai puasa Anda untuk melihat riwayat di sini</div>\n                    </div>\n                '}()}await async function(){try{return r=await t.getCurrentHijriDate(),r}catch(n){return null}}(),await i()})}}});
